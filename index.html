<!doctype html>
<html lang="en" dir="ltr" class="mdx-wrapper mdx-page plugin-pages plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Clearance | clearance</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dral.github.io/clearance/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Clearance | clearance"><meta data-rh="true" name="description" content="Clearance is an access gatekeeper system for rest applications. It takes care of the classic user authentication along with a layer of access control conceived to handle possibly complex customer organisations with custom sets of access profiles for your application."><meta data-rh="true" property="og:description" content="Clearance is an access gatekeeper system for rest applications. It takes care of the classic user authentication along with a layer of access control conceived to handle possibly complex customer organisations with custom sets of access profiles for your application."><link data-rh="true" rel="canonical" href="https://dral.github.io/clearance/"><link data-rh="true" rel="alternate" href="https://dral.github.io/clearance/" hreflang="en"><link data-rh="true" rel="alternate" href="https://dral.github.io/clearance/" hreflang="x-default"><script data-rh="true">function maybeInsertBanner(){window.__DOCUSAURUS_INSERT_BASEURL_BANNER&&insertBanner()}function insertBanner(){var n=document.getElementById("docusaurus-base-url-issue-banner-container");if(n){n.innerHTML='\n<div id="docusaurus-base-url-issue-banner" style="border: thick solid red; background-color: rgb(255, 230, 179); margin: 20px; padding: 20px; font-size: 20px;">\n   <p style="font-weight: bold; font-size: 30px;">Your Docusaurus site did not load properly.</p>\n   <p>A very common reason is a wrong site <a href="https://docusaurus.io/docs/docusaurus.config.js/#baseurl" style="font-weight: bold;">baseUrl configuration</a>.</p>\n   <p>Current configured baseUrl = <span style="font-weight: bold; color: red;">/clearance/</span> </p>\n   <p>We suggest trying baseUrl = <span id="docusaurus-base-url-issue-banner-suggestion-container" style="font-weight: bold; color: green;"></span></p>\n</div>\n';var e=document.getElementById("docusaurus-base-url-issue-banner-suggestion-container"),s=window.location.pathname,r="/"===s.substr(-1)?s:s+"/";e.innerHTML=r}}window.__DOCUSAURUS_INSERT_BASEURL_BANNER=!0,document.addEventListener("DOMContentLoaded",maybeInsertBanner)</script><link rel="stylesheet" href="/clearance/assets/css/styles.69607045.css">
<link rel="preload" href="/clearance/assets/js/runtime~main.e63fe425.js" as="script">
<link rel="preload" href="/clearance/assets/js/main.91439d35.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div id="docusaurus-base-url-issue-banner-container"></div><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/clearance/"><div class="navbar__logo"><img src="/clearance/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/clearance/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">clearance</b></a><a class="navbar__item navbar__link" href="/clearance/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/clearance/api">API</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/clearance/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li></ul></div><a href="https://github.com/dral/clearance" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_j9I6"><div class="col col--8"><article><h1>Clearance</h1><p>Clearance is an access gatekeeper system for rest applications. It takes care of the classic user authentication along with a layer of access control conceived to handle possibly complex customer organisations with custom sets of access profiles for your application.</p><p>Clearance is aimed at SAAS applications that provide services to end customers or organisations of any kind. Organisation in this context refers to either business, educational or teams of individuals that need to share resources and cooperate in the environment of your application.</p><p>Clearance consists of both an <em>API</em> and a <em>library</em>. The API is responsible for managing user and access data while the library is intended to facilitate integration on the target application&#x27;s behaviour.</p><p>Clearance makes no assumption on what kind of services your application provides. Instead, it keeps track of <em>access codes</em> that correspond to specific application features or possible actions on your application resources. As an example consider the following accesses:</p><ul><li><code>salesLead.create</code>,</li><li><code>contract.delete</code>,</li><li><code>applicationWorflowStep.approve</code>,</li><li><code>invoice.emit</code>,</li><li><code>monthlyReport.publish</code>.</li></ul><p>These very specific access codes can be aggregated into <em>access profiles</em> that will represent different use cases (<code>Marketing manager</code>, <code>Sales agent</code>, <code>Customer care agent</code>, <code>Invoicing robot</code>).</p><p>These profiles as well as individual access can be granted to users in your customer organisation. Note that your own organisation, this is, the organisation that operates the SAAS application, can use this system as well to manage their access to admin or &quot;backoffice&quot; features as well as to their customers&#x27; data in order to fulfill their service (customer support teams for example).</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="advanced-users-and-organisation-management">Advanced users and organisation management<a href="#advanced-users-and-organisation-management" class="hash-link" aria-label="Direct link to Advanced users and organisation management" title="Direct link to Advanced users and organisation management">​</a></h3><p>Allow your customers to manage their users and easily fine control the different access profiles to your application&#x27;s features.</p><ul><li>Create a new user along with a new organisation</li><li>Add a new user to an existing organisation</li><li>Remove an user from an organisation</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="same-login-multiple-organisations">Same login, multiple organisations<a href="#same-login-multiple-organisations" class="hash-link" aria-label="Direct link to Same login, multiple organisations" title="Direct link to Same login, multiple organisations">​</a></h3><p>An user can use the same account to access multiple organisations. Each organisation can grant applicative access to an user independently of how many other organisations the user may be a part of.</p><ul><li>Invite an existing user to an organisation</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="service-accounts">Service accounts<a href="#service-accounts" class="hash-link" aria-label="Direct link to Service accounts" title="Direct link to Service accounts">​</a></h3><p>Secure integration with each organisation&#x27;s managed third party services through independent service accounts.</p><ul><li>Create a service account for an organisation</li><li>Control activation, deactivation and deletion of service accounts</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="access-profile-managemnt">Access profile managemnt<a href="#access-profile-managemnt" class="hash-link" aria-label="Direct link to Access profile managemnt" title="Direct link to Access profile managemnt">​</a></h3><p>Register and manage access codes that correspond to specific application functions. Group them by comprehensive access profiles to match different use cases.</p><ul><li>Create a specific access code</li><li>Create an access profile from a set of access codes</li><li>Control activation, deactivation and deprecation of access codes and profiles</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="permanent-and-temporary-access-grants">Permanent and temporary access grants<a href="#permanent-and-temporary-access-grants" class="hash-link" aria-label="Direct link to Permanent and temporary access grants" title="Direct link to Permanent and temporary access grants">​</a></h3><p>Keep a stable set of access grants for users and service accounts while keeping the flexibility for historized exceptions to handle exceptional business situations.</p><ul><li>Grant a permanent access</li><li>Grant a temporary access</li><li>Revoke an access</li><li>List all access for a recipient as of a given date</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="multiple-out-of-the-box-authentication-methods">Multiple out of the box authentication methods<a href="#multiple-out-of-the-box-authentication-methods" class="hash-link" aria-label="Direct link to Multiple out of the box authentication methods" title="Direct link to Multiple out of the box authentication methods">​</a></h3><p>Chosse the authentication methods that fits your application use cases, including the classic user-password login, 2fa, external oauth providers, ephemeral codes challenges, api keys or magic links.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="session-audit-and-management">Session audit and management<a href="#session-audit-and-management" class="hash-link" aria-label="Direct link to Session audit and management" title="Direct link to Session audit and management">​</a></h3><p>At any point, your users (or organisation admins) can audit current sessions and disable old ones or compromised devices&#x27; sessions.</p><ul><li>List all active sessions for an user</li><li>Revoke a session</li></ul><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="keep-your-application-simple">Keep your application simple<a href="#keep-your-application-simple" class="hash-link" aria-label="Direct link to Keep your application simple" title="Direct link to Keep your application simple">​</a></h3><p>From the backend application&#x27;s perspective api requests will already carry the full status of allowed access, user and organisation. Take advantage of easy to integrate middlewares for access validation and minimal authentication level requirements for sensitive operations.</p><ul><li>Require access verification for request processing</li><li>Negotiate/ensure minimal user authentication level before sensible request processing</li></ul><p>Once the requests have been authentified, the application will receive a request containing a list of all the access that the user is allowed to. The application will then block or authorise the requested action by verifying that the specific access that it expects is indeed allowed for the request.</p><p>Consider the following schematic usage on the application side :</p><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockTitle_Ktv7">invoiceRouter.ts</div><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> clearanceSdk </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;clearance&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">/* ... */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">invoiceRouter</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">&#x27;/invoice/:id/emmit&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  clearanceSdk</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">allow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;invoice.emit&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// will either issue a 401 response or continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">req</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> res</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">/* ... */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></article></div><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a><ul><li><a href="#advanced-users-and-organisation-management" class="table-of-contents__link toc-highlight">Advanced users and organisation management</a></li><li><a href="#same-login-multiple-organisations" class="table-of-contents__link toc-highlight">Same login, multiple organisations</a></li><li><a href="#service-accounts" class="table-of-contents__link toc-highlight">Service accounts</a></li><li><a href="#access-profile-managemnt" class="table-of-contents__link toc-highlight">Access profile managemnt</a></li><li><a href="#permanent-and-temporary-access-grants" class="table-of-contents__link toc-highlight">Permanent and temporary access grants</a></li><li><a href="#multiple-out-of-the-box-authentication-methods" class="table-of-contents__link toc-highlight">Multiple out of the box authentication methods</a></li><li><a href="#session-audit-and-management" class="table-of-contents__link toc-highlight">Session audit and management</a></li><li><a href="#keep-your-application-simple" class="table-of-contents__link toc-highlight">Keep your application simple</a></li></ul></li></ul></div></div></div></main></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/clearance/docs/intro">Tutorial</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Draltan Marin.</div></div></div></footer></div>
<script src="/clearance/assets/js/runtime~main.e63fe425.js"></script>
<script src="/clearance/assets/js/main.91439d35.js"></script>
</body>
</html>